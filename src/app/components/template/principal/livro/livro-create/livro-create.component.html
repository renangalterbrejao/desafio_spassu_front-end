<app-header-principal></app-header-principal>
<div style="text-align: center;">
    <div class="container-geral">
        <div class="container">
            <h3>Inclusão de Livro</h3>
        </div>

        <div class="container">
            <h4>Dados do livro</h4>
        </div>
        <mat-card class="home mat-elevation-z3 ajuste-centralizacao" style="width: 80%;">
            <form style="width: 70%;">
                <div>
                    <div class="conteudo-mat-card">
                        <div>
                            <div style="width: 30%;">Título:</div>
                            <div><input matInput [(ngModel)]="livro.titulo" name="titulo" maxlength="40" size="40">
                            </div>
                        </div>
                        <div>
                            <div style="width: 30%;">Editora:</div>
                            <div><input matInput [(ngModel)]="livro.editora" name="editora" maxlength="40" size="40">
                            </div>
                        </div>
                        <div>
                            <div style="width: 30%;">Edicao:</div>
                            <div>
                                <input matInput [(ngModel)]="livro.edicao" name="edicao"
                                    (input)="validarNumeros($event, 10)" size="10" pattern="[0-9]{1,10}" type="number">
                            </div>
                        </div>
                        <div>
                            <div style="width: 30%;">Ano publicação:</div>
                            <div><input matInput [(ngModel)]="livro.anoPublicacao" name="anoPublicacao"
                                    (input)="validarNumeros($event, 4)" size="4" pattern="[0-9]{1,10}" type="number"
                                    style="width: 70px;">
                            </div>
                        </div>
                        <div>
                            <div style="width: 30%;">Preço (R$):</div>
                            <div>
                                <input matInput [(ngModel)]="livro.preco" name="preco" maxlength="8" size="8"
                                    (input)="formatarPreco($event)">
                            </div>
                        </div>
                    </div>
                </div>
            </form>
        </mat-card>

        <div class="container" style="margin-top: 30px;">
            <h4>Associação de autores</h4>
        </div>

        <div class="example-container mat-elevation-z1" style="width: 80%;">
            <mat-table [dataSource]="autores" matSort>
                <ng-container matColumnDef="codAu">
                    <mat-header-cell *matHeaderCellDef> ID </mat-header-cell>
                    <mat-cell *matCellDef="let row"> {{row.codAu}} </mat-cell>
                </ng-container>

                <ng-container matColumnDef="nome">
                    <mat-header-cell *matHeaderCellDef> Nome </mat-header-cell>
                    <mat-cell *matCellDef="let row"> {{row.nome}} </mat-cell>
                </ng-container>

                <ng-container matColumnDef="action">
                    <th mat-header-cell *matHeaderCellDef class="acoes-autores">Ações</th>
                    <td mat-cell *matCellDef="let row" class="acoes-autores">
                        <mat-checkbox (change)="associarAutor(row.codAu)"></mat-checkbox>
                    </td>
                </ng-container>

                <mat-header-row *matHeaderRowDef="displayedColumns"></mat-header-row>
                <mat-row *matRowDef="let row; columns: displayedColumns;"></mat-row>
            </mat-table>
        </div>

        <div class="container" style="margin-top: 30px;">
            <h4>Associação de assuntos</h4>
        </div>

        <div class="example-container mat-elevation-z3" style="width: 80%;">
            <mat-table [dataSource]="assuntos" matSort>
                <ng-container matColumnDef="codAs">
                    <mat-header-cell *matHeaderCellDef> ID </mat-header-cell>
                    <mat-cell *matCellDef="let row"> {{row.codAs}} </mat-cell>
                </ng-container>

                <ng-container matColumnDef="descricao">
                    <mat-header-cell *matHeaderCellDef> Descrição </mat-header-cell>
                    <mat-cell *matCellDef="let row"> {{row.descricao}} </mat-cell>
                </ng-container>

                <ng-container matColumnDef="action">
                    <th mat-header-cell *matHeaderCellDef class="acoes-autores">Ações</th>
                    <td mat-cell *matCellDef="let row" class="acoes-autores">
                        <mat-checkbox (change)="associarAssunto(row.codAs)"></mat-checkbox>
                    </td>
                </ng-container>

                <mat-header-row *matHeaderRowDef="displayedColumnsAssuntos"></mat-header-row>
                <mat-row *matRowDef="let row; columns: displayedColumnsAssuntos;"></mat-row>
            </mat-table>
        </div>


        <div class="area-botoes">
            <button mat-raised-button (click)="confirmarInclusao()" color="primary">
                Incluir Livro
            </button>

            <button mat-raised-button (click)="home()">
                Cancelar
            </button>
        </div>
    </div>
</div>